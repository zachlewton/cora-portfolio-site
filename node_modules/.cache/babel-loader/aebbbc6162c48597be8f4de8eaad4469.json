{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\zachg\\\\Code\\\\cora-portfolio-site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect}from'react';import axios from'axios';import Image from'../image/Image';import style from'./Project.module.css';import{CSSTransitionGroup}from'react-transition-group';import{motion}from'framer-motion';import{BrowserRouter,Routes,Route,NavLink,Outlet,useParams,useLocation,usePrompt,useHistory}from'react-router-dom';import ProjectGalleryThumbnail from'../projectGalleryThumbnail/ProjectGalleryThumbnail';import ProjectGallery from'../galleryContainer/GalleryContainer';import ErrorPage from'../errorPage/ErrorPage';var Project=function Project(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),projectDescription=_useState2[0],setProjectDescription=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),projectTitle=_useState4[0],setProjectTitle=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loaded=_useState8[0],setLoaded=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),projectGalleries=_useState10[0],setProjectGalleries=_useState10[1];var params=useParams();var endpoint=!params.subProject?'projects':'sub_project_by_name';var projectSlug=!params.subProject?params.slug:params.subProject;var gallerySlug=!params.subProject?params.slug:params.subProject;var galleryEndpoint=!params.subProject?'':'sub_';var projectsRequest=axios.get(\"http://localhost:8000/wp-json/custom-api/v1/\".concat(endpoint,\"?slug=\").concat(projectSlug));var projectGalleriesRequest=axios.get(\"http://localhost:8000/wp-json/custom-api/v1/\".concat(galleryEndpoint,\"project_galleries?slug=\").concat(gallerySlug));useEffect(function(){axios.all([projectsRequest,projectGalleriesRequest]).then(axios.spread(function(){for(var _len=arguments.length,responses=new Array(_len),_key=0;_key<_len;_key++){responses[_key]=arguments[_key];}var projectsResponse=responses[0].data[0];var projectGalleriesResponse=responses[1].data;console.log(projectsResponse);setProjectTitle(projectsResponse.title);setProjectDescription(projectsResponse.description);var arr2=Object.keys(projectGalleriesResponse).map(function(i){return projectGalleriesResponse[i];});// setProjectGalleries(projectGalleriesResponse);\nsetProjectGalleries(arr2);})).catch(function(error){setError(true);}).then(function(){return setLoaded(true);});},[params]);if(!loaded){return/*#__PURE__*/React.createElement(\"div\",null,\"loading\");}if(error){return/*#__PURE__*/React.createElement(ErrorPage,null);}if(loaded){// return <ProjectGalleryContainer galleries={galleries} />;\nconsole.log(projectGalleries);return/*#__PURE__*/React.createElement(\"div\",{className:style.projectContainer},/*#__PURE__*/React.createElement(\"h1\",null,projectTitle),/*#__PURE__*/React.createElement(\"h2\",null,projectDescription),/*#__PURE__*/React.createElement(\"div\",{className:style.galleriesContainer},projectGalleries.map(function(gallery){return/*#__PURE__*/React.createElement(NavLink,{to:\"/gallery/\".concat(gallery.gallery_slug),galleryName:gallery.title},/*#__PURE__*/React.createElement(ProjectGalleryThumbnail,{gallery:gallery,isSubProject:!params.subProject?false:true}));})));}// <div className={style.projectContainer}>\n// \t<div>{projectTitle}</div>\n// \t<div dangerouslySetInnerHTML={{ __html: projectDescription }} />\n// \t{images.map((image) => (\n// \t\t<Image key={image.id} image={image} />\n// \t))}\n// </div>\n};export default Project;","map":{"version":3,"sources":["C:/Users/zachg/Code/cora-portfolio-site/src/Components/project/Project.jsx"],"names":["React","Component","useState","useEffect","axios","Image","style","CSSTransitionGroup","motion","BrowserRouter","Routes","Route","NavLink","Outlet","useParams","useLocation","usePrompt","useHistory","ProjectGalleryThumbnail","ProjectGallery","ErrorPage","Project","props","projectDescription","setProjectDescription","projectTitle","setProjectTitle","error","setError","loaded","setLoaded","projectGalleries","setProjectGalleries","params","endpoint","subProject","projectSlug","slug","gallerySlug","galleryEndpoint","projectsRequest","get","projectGalleriesRequest","all","then","spread","responses","projectsResponse","data","projectGalleriesResponse","console","log","title","description","arr2","Object","keys","map","i","catch","projectContainer","galleriesContainer","gallery","gallery_slug"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Image from '../image/Image';\r\n\r\nimport style from './Project.module.css';\r\nimport { CSSTransitionGroup } from 'react-transition-group';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n\tBrowserRouter,\r\n\tRoutes,\r\n\tRoute,\r\n\tNavLink,\r\n\tOutlet,\r\n\tuseParams,\r\n\tuseLocation,\r\n\tusePrompt,\r\n\tuseHistory,\r\n} from 'react-router-dom';\r\n\r\nimport ProjectGalleryThumbnail from '../projectGalleryThumbnail/ProjectGalleryThumbnail';\r\nimport ProjectGallery from '../galleryContainer/GalleryContainer';\r\nimport ErrorPage from '../errorPage/ErrorPage';\r\n\r\nconst Project = (props) => {\r\n\tconst [projectDescription, setProjectDescription] = useState('');\r\n\tconst [projectTitle, setProjectTitle] = useState('');\r\n\tconst [error, setError] = useState(false);\r\n\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [projectGalleries, setProjectGalleries] = useState([]);\r\n\r\n\tconst params = useParams();\r\n\r\n\tconst endpoint = !params.subProject ? 'projects' : 'sub_project_by_name';\r\n\tconst projectSlug = !params.subProject ? params.slug : params.subProject;\r\n\tconst gallerySlug = !params.subProject ? params.slug : params.subProject;\r\n\tconst galleryEndpoint = !params.subProject ? '' : 'sub_';\r\n\r\n\tconst projectsRequest = axios.get(\r\n\t\t`http://localhost:8000/wp-json/custom-api/v1/${endpoint}?slug=${projectSlug}`\r\n\t);\r\n\tconst projectGalleriesRequest = axios.get(\r\n\t\t`http://localhost:8000/wp-json/custom-api/v1/${galleryEndpoint}project_galleries?slug=${gallerySlug}`\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.all([projectsRequest, projectGalleriesRequest])\r\n\t\t\t.then(\r\n\t\t\t\taxios.spread((...responses) => {\r\n\t\t\t\t\tconst projectsResponse = responses[0].data[0];\r\n\t\t\t\t\tconst projectGalleriesResponse = responses[1].data;\r\n\t\t\t\t\tconsole.log(projectsResponse);\r\n\r\n\t\t\t\t\tsetProjectTitle(projectsResponse.title);\r\n\t\t\t\t\tsetProjectDescription(projectsResponse.description);\r\n\r\n\t\t\t\t\tvar arr2 = Object.keys(projectGalleriesResponse).map(function (i) {\r\n\t\t\t\t\t\treturn projectGalleriesResponse[i];\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// setProjectGalleries(projectGalleriesResponse);\r\n\r\n\t\t\t\t\tsetProjectGalleries(arr2);\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetError(true);\r\n\t\t\t})\r\n\r\n\t\t\t.then(() => setLoaded(true));\r\n\t}, [params]);\r\n\r\n\tif (!loaded) {\r\n\t\treturn <div>loading</div>;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <ErrorPage />;\r\n\t}\r\n\tif (loaded) {\r\n\t\t// return <ProjectGalleryContainer galleries={galleries} />;\r\n\t\tconsole.log(projectGalleries);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={style.projectContainer}>\r\n\t\t\t\t<h1>{projectTitle}</h1>\r\n\t\t\t\t<h2>{projectDescription}</h2>\r\n\r\n\t\t\t\t<div className={style.galleriesContainer}>\r\n\t\t\t\t\t{projectGalleries.map((gallery) => (\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto={`/gallery/${gallery.gallery_slug}`}\r\n\t\t\t\t\t\t\tgalleryName={gallery.title}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ProjectGalleryThumbnail\r\n\t\t\t\t\t\t\t\tgallery={gallery}\r\n\t\t\t\t\t\t\t\tisSubProject={!params.subProject ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t// <div className={style.projectContainer}>\r\n\t// \t<div>{projectTitle}</div>\r\n\t// \t<div dangerouslySetInnerHTML={{ __html: projectDescription }} />\r\n\t// \t{images.map((image) => (\r\n\t// \t\t<Image key={image.id} image={image} />\r\n\t// \t))}\r\n\t// </div>\r\n};\r\n\r\nexport default Project;\r\n"]},"metadata":{},"sourceType":"module"}